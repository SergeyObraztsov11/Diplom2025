import{u as N,r as s,c as V,w as x,a as I,b as U,o as i,d as t,e as j,f as r,_ as u,g as f,v as p,h as c,F as q,i as R,t as B,j as F,k as L}from"./index-C5SE_L3X.js";import{_ as P}from"./AuthLayout-DwRuy5Qe.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./AppFooter-D7ZgsriB.js";const C={class:"flex-1 flex items-center justify-center"},E={class:"flex flex-row h-12 w-full items-center gap-2 p-2 border-2 border-main-gray text-main-gray rounded-full transition-colors focus-within:border-main-white focus-within:bg-main-gray focus-within:text-main-white"},A={class:"flex flex-row h-12 w-full items-center gap-2 p-2 border-2 border-main-gray text-main-gray rounded-full transition-colors focus-within:border-main-white focus-within:bg-main-gray focus-within:text-main-white"},D={class:"flex flex-row h-12 w-full items-center gap-2 p-2 border-2 border-main-gray text-main-gray rounded-full transition-colors focus-within:border-main-white focus-within:bg-main-gray focus-within:text-main-white"},K={class:"flex flex-row h-12 w-full items-center gap-2 p-2 border-2 border-main-gray text-main-gray rounded-full transition-colors focus-within:border-main-white focus-within:bg-main-gray focus-within:text-main-white"},M={key:0,class:"p-2 text-main-error-red list-disc list-inside"},T={class:"flex flex-col md:flex-row gap-2 justify-between"},$={class:"text-lg p-2"},z={key:0,type:"submit",class:"flex flex-row items-center justify-center gap-2 bg-main-gray px-4 py-2 rounded-lg text-lg hover:scale-105",title:"Подтвердить регистрацию"},G={key:1,class:"flex flex-row items-center justify-center gap-2 bg-main-gray px-4 py-2 rounded-lg text-lg"},H={__name:"RegPage",setup(J){const g=N(),v=I(),d=s(""),m=s(""),n=s(""),h=s(""),w=s(!1),o=s([]),y=l=>{switch(l){case"auth/email-already-in-use":return"Почта уже используется";case"auth/invalid-email":return"Некорректный email";case"auth/weak-password":return"Слабый пароль";case"auth/operation-not-allowed":return"Операция не разрешена";case"auth/network-request-failed":return"Проблемы с интернет-соединением";default:return"Неизвестная ошибка: "+l}},b=()=>{const l=[];return d.value.length<6&&l.push("Минимум 6 символов в имени"),m.value.includes("@")||l.push("Некорректный email"),n.value.length<6&&l.push("Минимум 6 символов в пароле"),h.value!==n.value&&l.push("Пароли не совпадают"),l},_=async()=>{if(o.value=b(),!(o.value.length>0))try{w.value=!0,await g.registerUser({displayName:d.value,email:m.value,password:n.value}),v.push("/")}catch(l){o.value=[y(l)]}finally{w.value=!1}};return(l,e)=>{const k=U("RouterLink");return i(),V(P,null,{default:x(()=>[t("div",C,[t("form",{onSubmit:j(_,["prevent"]),class:"flex flex-col max-w-xl bg-main-black rounded-lg p-6 gap-4"},[e[8]||(e[8]=t("h1",{class:"text-nowrap text-5xl font-semibold mb-4 text-center"}," Регистрация ",-1)),t("div",E,[r(u,{iconName:"PersonIcon",class:"fill-current h-6 w-6"}),f(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>d.value=a),placeholder:"Имя пользователя",type:"text",id:"displayName",autocomplete:"off",required:"",spellcheck:"false",class:"w-full h-full outline-none bg-transparent text-main-white placeholder:text-main-white/50"},null,512),[[p,d.value,void 0,{trim:!0}]])]),t("div",A,[r(u,{iconName:"EmailIcon",class:"fill-current h-6 w-6"}),f(t("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>m.value=a),placeholder:"example@mail.ru",type:"email",id:"email",autocomplete:"off",required:"",spellcheck:"false",class:"w-full h-full outline-none bg-transparent text-main-white placeholder:text-main-white/50"},null,512),[[p,m.value,void 0,{trim:!0}]])]),t("div",D,[r(u,{iconName:"KeyIcon",class:"fill-current h-6 w-6"}),f(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>n.value=a),placeholder:"Пароль",type:"password",id:"password1",autocomplete:"off",required:"",spellcheck:"false",class:"w-full h-full outline-none bg-transparent text-main-white placeholder:text-main-white/50"},null,512),[[p,n.value,void 0,{trim:!0}]])]),t("div",K,[r(u,{iconName:"KeyIcon",class:"fill-current h-6 w-6"}),f(t("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>h.value=a),placeholder:"Повторите пароль",type:"password",id:"password2",autocomplete:"off",required:"",spellcheck:"false",class:"w-full h-full outline-none bg-transparent text-main-white placeholder:text-main-white/50"},null,512),[[p,h.value,void 0,{trim:!0}]])]),o.value.length?(i(),c("ul",M,[(i(!0),c(q,null,R(o.value,a=>(i(),c("li",{key:a},B(a),1))),128))])):F("",!0),t("div",T,[t("div",$,[e[5]||(e[5]=t("span",{class:"inline"},"Уже есть аккаунт? ",-1)),r(k,{class:"inline underline hover:text-white",to:{name:"login"}},{default:x(()=>e[4]||(e[4]=[L("Войти")])),_:1})]),w.value?(i(),c("div",G,[r(u,{iconName:"ProgressActivityIcon",class:"fill-current"}),e[7]||(e[7]=t("span",null,"Загрузка",-1))])):(i(),c("button",z,e[6]||(e[6]=[t("span",null,"Подтвердить",-1)])))])],32)])]),_:1})}}},Y=S(H,[["__scopeId","data-v-847333eb"]]);export{Y as default};
