import{_ as S}from"./Track-sVTIUyg5.js";import{_ as C}from"./TrackSkeleton-D7ByGfhk.js";import{_ as L}from"./AlbumCard-B4MOmbj8.js";import{A as N}from"./AlbumCardSkeleton-Dr7mOXQj.js";import{_ as j}from"./AppFooter-D7ZgsriB.js";import{A as D,S as T,a as $}from"./a11y-CGjrJTAs.js";import{M as I}from"./mousewheel-BR5Qw9zw.js";import{u as M,_ as R}from"./UserLayout-BSIQK8QT.js";import{m as V,r as c,n as F,c as u,w as o,b as P,o as t,d as l,h as s,i as r,F as i,t as B,j as y,f as n,p as _}from"./index-C5SE_L3X.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"flex flex-col gap-16"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},H=["src","alt"],U={class:"absolute z-10 inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent p-8 flex flex-col justify-end"},q={class:"text-3xl font-bold text-white mb-3 tracking-tight"},G={class:"text-white/90 text-lg"},J={key:0,class:"flex flex-col gap-6"},K={class:"flex flex-col gap-3 bg-main-gray/30 rounded-2xl p-4"},O={key:1,class:"flex flex-col gap-6"},Q={class:"flex flex-col gap-6"},W={class:"flex flex-col gap-3 bg-main-gray/30 rounded-2xl p-4"},X={class:"flex flex-col gap-6"},Y={key:0,class:"flex p-2 flex-row w-full overflow-x-hidden gap-6"},Z={key:2,class:"text-main-white/80 text-lg py-4 text-center"},de={__name:"HomePage",setup(ee){const b=M(),w=V(),A=[D,I],d=c(!0),g=c([]),k=c([]),x=c([]),f=c([]),h=c([]);return F(async()=>{try{d.value=!0;const[p,a,m,e]=await Promise.all([b.getAllTracks()||[],w.getAllAlbums()||[],b.getLikedTracks()||[],w.getLikedAlbums()||[]]);g.value=p.slice(0,10),k.value=a.slice(0,10),x.value=a.slice(0,2),f.value=m,h.value=e}catch(p){console.error("Ошибка при загрузке данных:",p)}finally{d.value=!1}}),(p,a)=>{const m=P("RouterLink");return t(),u(R,null,{default:o(()=>[l("div",z,[l("section",E,[d.value?(t(),s(i,{key:0},r(2,e=>l("div",{key:e,class:"aspect-[16/9] bg-main-gray animate-pulse rounded-3xl"})),64)):x.value.length>0?(t(!0),s(i,{key:1},r(x.value,e=>(t(),u(m,{key:e.id,to:{name:"album",params:{albumId:e.id}},class:"group relative aspect-[16/9] overflow-hidden rounded-3xl"},{default:o(()=>[l("img",{src:e.imageURL,alt:e.title,class:"w-full h-full object-cover transition-all duration-700 group-hover:scale-105"},null,8,H),l("div",U,[l("h3",q,B(e.title),1),l("p",G,B(e.author.displayName),1)])]),_:2},1032,["to"]))),128)):y("",!0)]),f.value.length>0?(t(),s("section",J,[n(m,{to:{name:"liked_tracks"}},{default:o(()=>a[0]||(a[0]=[l("h1",{class:"text-4xl font-bold tracking-tight"}," Любимые треки ",-1)])),_:1}),l("div",K,[(t(!0),s(i,null,r(f.value,e=>(t(),u(S,{key:e.id,data:e,isShowImage:!0,list:f.value.map(v=>v.id)},null,8,["data","list"]))),128))])])):y("",!0),h.value.length>0?(t(),s("section",O,[n(m,{to:{name:"liked_albums"}},{default:o(()=>a[1]||(a[1]=[l("h1",{class:"text-4xl font-bold tracking-tight"}," Любимые альбомы ",-1)])),_:1}),n(_(T),{"space-between":40,modules:A,"slides-per-view":"auto",mousewheel:!0,class:"w-full"},{default:o(()=>[(t(!0),s(i,null,r(h.value,e=>(t(),u(_($),{key:e.id,class:"!w-fit"},{default:o(()=>[n(L,{album:e},null,8,["album"])]),_:2},1024))),128))]),_:1})])):y("",!0),l("section",Q,[a[2]||(a[2]=l("h1",{class:"text-4xl font-bold tracking-tight"}," Популярные треки ",-1)),l("div",W,[d.value?(t(),s(i,{key:0},r(5,e=>n(C,{key:e})),64)):(t(!0),s(i,{key:1},r(g.value,e=>(t(),u(S,{key:e.id,data:e,isShowImage:!0,list:g.value.map(v=>v.id)},null,8,["data","list"]))),128))])]),l("section",X,[a[3]||(a[3]=l("h1",{class:"text-4xl font-bold tracking-tight"}," Популярные альбомы ",-1)),d.value?(t(),s("div",Y,[(t(),s(i,null,r(3,e=>n(N,{key:e})),64))])):k.value.length>0?(t(),u(_(T),{key:1,"space-between":40,modules:A,mousewheel:!0,"slides-per-view":"auto",class:"w-full"},{default:o(()=>[(t(!0),s(i,null,r(k.value,e=>(t(),u(_($),{key:e.id,class:"!w-fit"},{default:o(()=>[n(L,{album:e},null,8,["album"])]),_:2},1024))),128))]),_:1})):(t(),s("p",Z," Альбомы не найдены. "))]),n(j)])]),_:1})}}};export{de as default};
