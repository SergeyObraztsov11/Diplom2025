import{_ as S}from"./Track-4fWiVykT.js";import{_ as C}from"./TrackSkeleton-CxhPk3z4.js";import{A as $}from"./AlbumCardSkeleton-FGELgah1.js";import{_ as L}from"./AlbumCard-BpFIRTdO.js";import{N as j}from"./navigation-CI5VIoYF.js";import{A as D,S as N,a as T}from"./swiper-vue-DS0u4e-q.js";import{m as I,u as R,r as n,n as V,c as i,w as u,b as F,o as t,d as l,h as s,i as o,F as r,t as B,j as y,f as d,p}from"./index-ChOSlH1x.js";import{u as P,_ as z}from"./UserLayout-oE4x2766.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"flex flex-col gap-16"},H={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},M=["src","alt"],U={class:"absolute z-10 inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent p-8 flex flex-col justify-end"},q={class:"text-3xl font-bold text-white mb-3 tracking-tight"},G={class:"text-white/90 text-lg"},J={key:0,class:"flex flex-col gap-6"},K={class:"flex flex-col gap-3 bg-main-gray/30 rounded-2xl p-4"},O={key:1,class:"flex flex-col gap-6"},Q={class:"flex flex-col gap-6"},W={class:"flex flex-col gap-3 bg-main-gray/30 rounded-2xl p-4"},X={class:"flex flex-col gap-6"},Y={key:0,class:"flex p-2 flex-row w-full overflow-x-hidden gap-6"},Z={key:2,class:"text-main-white/80 text-lg py-4 text-center"},ce={__name:"HomePage",setup(ee){const b=P(),w=I();R();const A=[j,D],c=n(!0),g=n([]),_=n([]),k=n([]),m=n([]),x=n([]);return V(async()=>{try{c.value=!0;const[f,a,v,e]=await Promise.all([b.getAllTracks(),w.getAllAlbums(),b.getLikedTracks(),w.getLikedAlbums()]);g.value=f,_.value=a,k.value=a.slice(0,2),m.value=v,x.value=e}catch(f){console.error("Ошибка при загрузке данных:",f)}finally{c.value=!1}}),(f,a)=>{const v=F("RouterLink");return t(),i(z,null,{default:u(()=>[l("div",E,[l("section",H,[c.value?(t(),s(r,{key:0},o(2,e=>l("div",{key:e,class:"aspect-[16/9] bg-main-gray animate-pulse rounded-3xl"})),64)):k.value.length>0?(t(!0),s(r,{key:1},o(k.value,e=>(t(),i(v,{key:e.id,to:{name:"album",params:{albumId:e.id}},class:"group relative aspect-[16/9] overflow-hidden rounded-3xl"},{default:u(()=>[l("img",{src:e.imageURL,alt:e.title,class:"w-full h-full object-cover transition-all duration-700 group-hover:scale-105"},null,8,M),l("div",U,[l("h3",q,B(e.title),1),l("p",G,B(e.author.displayName),1)])]),_:2},1032,["to"]))),128)):y("",!0)]),m.value.length>0?(t(),s("section",J,[a[0]||(a[0]=l("h1",{class:"text-4xl font-bold tracking-tight"}," Любимые треки ",-1)),l("div",K,[(t(!0),s(r,null,o(m.value,e=>(t(),i(S,{key:e.id,data:e,isShowImage:!0,list:m.value.map(h=>h.id)},null,8,["data","list"]))),128))])])):y("",!0),x.value.length>0?(t(),s("section",O,[a[1]||(a[1]=l("h1",{class:"text-4xl font-bold tracking-tight"}," Любимые альбомы ",-1)),d(p(N),{"space-between":40,modules:A,navigation:"","slides-per-view":"auto",class:"w-full"},{default:u(()=>[(t(!0),s(r,null,o(x.value,e=>(t(),i(p(T),{key:e.id,class:"!w-fit"},{default:u(()=>[d(L,{album:e},null,8,["album"])]),_:2},1024))),128))]),_:1})])):y("",!0),l("section",Q,[a[2]||(a[2]=l("h1",{class:"text-4xl font-bold tracking-tight"}," Популярные треки ",-1)),l("div",W,[c.value?(t(),s(r,{key:0},o(5,e=>d(C,{key:e})),64)):(t(!0),s(r,{key:1},o(g.value,e=>(t(),i(S,{key:e.id,data:e,isShowImage:!0,list:g.value.map(h=>h.id)},null,8,["data","list"]))),128))])]),l("section",X,[a[3]||(a[3]=l("h1",{class:"text-4xl font-bold tracking-tight"}," Популярные альбомы ",-1)),c.value?(t(),s("div",Y,[(t(),s(r,null,o(3,e=>d($,{key:e})),64))])):_.value.length>0?(t(),i(p(N),{key:1,"space-between":40,modules:A,navigation:"","slides-per-view":"auto",class:"w-full"},{default:u(()=>[(t(!0),s(r,null,o(_.value,e=>(t(),i(p(T),{key:e.id,class:"!w-fit"},{default:u(()=>[d(L,{album:e},null,8,["album"])]),_:2},1024))),128))]),_:1})):(t(),s("p",Z," Альбомы не найдены. "))])])]),_:1})}}};export{ce as default};
